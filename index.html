<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Pontuação - Xadrez</title>
    <!-- Recursos externos removidos temporariamente para corrigir erro de deploy -->
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"> -->
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <!-- <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script> -->
    <style>
        /* Tailwind CSS configuration for shadcn/ui compatibility */
        /* @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap'); */
        
        :root {
            --background: 0 0% 100%;
            --foreground: 0 0% 3.9%;
            --card: 0 0% 100%;
            --card-foreground: 0 0% 3.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 0 0% 3.9%;
            --primary: 0 0% 9%;
            --primary-foreground: 0 0% 98%;
            --secondary: 0 0% 96.1%;
            --secondary-foreground: 0 0% 9%;
            --muted: 0 0% 96.1%;
            --muted-foreground: 0 0% 45.1%;
            --accent: 0 0% 96.1%;
            --accent-foreground: 0 0% 9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 0 0% 98%;
            --border: 0 0% 89.8%;
            --input: 0 0% 89.8%;
            --ring: 0 0% 3.9%;
            --radius: 0.5rem;
        }
        
        .dark {
            --background: 0 0% 3.9%;
            --foreground: 0 0% 98%;
            --card: 0 0% 3.9%;
            --card-foreground: 0 0% 98%;
            --popover: 0 0% 3.9%;
            --popover-foreground: 0 0% 98%;
            --primary: 0 0% 98%;
            --primary-foreground: 0 0% 9%;
            --secondary: 0 0% 14.9%;
            --secondary-foreground: 0 0% 98%;
            --muted: 0 0% 14.9%;
            --muted-foreground: 0 0% 63.9%;
            --accent: 0 0% 14.9%;
            --accent-foreground: 0 0% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 0 0% 98%;
            --border: 0 0% 14.9%;
            --input: 0 0% 14.9%;
            --ring: 0 0% 83.1%;
        }
    </style>
</head>
<body class="min-h-screen bg-background font-sans antialiased">
    <div class="container mx-auto max-w-7xl px-4 py-8">
        <!-- Header with shadcn/ui styling -->
        <header class="text-center mb-8">
            <div class="flex items-center justify-center gap-3 mb-2">
                <div class="p-3 rounded-lg bg-primary text-primary-foreground">
                    <i data-lucide="chess-knight" class="w-8 h-8"></i>
                </div>
                <h1 class="text-4xl font-bold tracking-tight text-foreground">Controle de Pontuação</h1>
            </div>
            <p class="text-muted-foreground text-lg">Sistema de gerenciamento para torneios de xadrez</p>
        </header>

        <!-- Navigation with shadcn/ui tabs styling -->
        <div class="flex items-center justify-between mb-8">
            <div class="inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground">
                <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm active" data-tab="jogadores">
                    <i data-lucide="users" class="w-4 h-4 mr-2"></i>
                    Jogadores
                </button>
                <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-tab="ranking">
                    <i data-lucide="trophy" class="w-4 h-4 mr-2"></i>
                    Ranking
                </button>
                <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-tab="relatorios">
                    <i data-lucide="bar-chart-3" class="w-4 h-4 mr-2"></i>
                    Relatórios
                </button>
                <button class="tab-btn inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" data-tab="partidas">
                    <i data-lucide="plus-circle" class="w-4 h-4 mr-2"></i>
                    Registrar Partida
                </button>
            </div>
            <button class="theme-toggle inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10" id="themeToggle" title="Alternar tema">
                <i data-lucide="moon" class="w-4 h-4"></i>
            </button>
        </div>

        <!-- Seção Jogadores -->
        <section id="jogadores" class="tab-content active">
            <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
                <div class="flex flex-col space-y-1.5 p-6">
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                        <div>
                            <h2 class="text-2xl font-semibold leading-none tracking-tight">Gerenciar Jogadores</h2>
                            <p class="text-sm text-muted-foreground mt-1">Adicione e gerencie os jogadores do torneio</p>
                        </div>
                        <div class="flex flex-col sm:flex-row gap-2">
                            <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2" id="importCsvBtn" title="Importar jogadores via CSV/Excel">
                                <i data-lucide="upload" class="w-4 h-4 mr-2"></i>
                                Importar CSV
                            </button>
                            <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2" id="exportCsvBtn" title="Exportar dados para CSV/Excel">
                                <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                                Exportar CSV
                            </button>
                            <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2" id="addPlayerBtn">
                                <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
                                Adicionar Jogador
                            </button>
                        </div>
                    </div>
                </div>

                <div class="p-6 pt-0">
                    <!-- Player Form Card -->
                    <div class="rounded-lg border bg-card text-card-foreground shadow-sm mb-6 hidden" id="playerForm">
                        <div class="flex flex-col space-y-1.5 p-6">
                            <h3 class="text-lg font-semibold leading-none tracking-tight" id="formTitle">Adicionar Novo Jogador</h3>
                        </div>
                        <div class="p-6 pt-0">
                            <form id="playerFormElement" class="space-y-4">
                                <div class="space-y-2">
                                    <label for="playerName" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Nome do Jogador</label>
                                    <input type="text" id="playerName" required class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" placeholder="Digite o nome do jogador">
                                </div>
                                <div class="space-y-2">
                                    <label for="playerEmail" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Email (opcional)</label>
                                    <input type="email" id="playerEmail" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" placeholder="email@exemplo.com">
                                </div>
                                <div class="flex gap-2">
                                    <button type="submit" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
                                        <i data-lucide="save" class="w-4 h-4 mr-2"></i>
                                        Salvar
                                    </button>
                                    <button type="button" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2" id="cancelBtn">
                                        <i data-lucide="x" class="w-4 h-4 mr-2"></i>
                                        Cancelar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- CSV Import Modal -->
                    <div class="fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 hidden" id="csvImportModal">
                        <div class="fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg">
                            <div class="flex flex-col space-y-1.5 text-center sm:text-left">
                                <h3 class="text-lg font-semibold leading-none tracking-tight flex items-center">
                                    <i data-lucide="upload" class="w-5 h-5 mr-2"></i>
                                    Importar Jogadores via CSV/Excel
                                </h3>
                                <p class="text-sm text-muted-foreground">
                                    Faça upload de um arquivo CSV ou Excel com os dados dos jogadores
                                </p>
                            </div>
                            
                            <div class="space-y-4">
                                <!-- File Upload Area -->
                                <div class="border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center hover:border-muted-foreground/50 transition-colors" id="csvDropZone">
                                    <div class="flex flex-col items-center space-y-2">
                                        <i data-lucide="file-spreadsheet" class="w-12 h-12 text-muted-foreground"></i>
                                        <div>
                                            <p class="text-sm font-medium">Arraste e solte seu arquivo aqui</p>
                                            <p class="text-xs text-muted-foreground">ou clique para selecionar</p>
                                        </div>
                                        <p class="text-xs text-muted-foreground">Formatos aceitos: .csv, .xlsx, .xls</p>
                                    </div>
                                    <input type="file" id="csvFileInput" accept=".csv,.xlsx,.xls" class="hidden">
                                </div>
                                
                                <!-- File Info -->
                                <div class="hidden" id="csvFileInfo">
                                    <div class="flex items-center space-x-2 p-3 bg-muted rounded-lg">
                                        <i data-lucide="file-check" class="w-4 h-4 text-green-600"></i>
                                        <span class="text-sm font-medium" id="csvFileName"></span>
                                        <button type="button" class="ml-auto text-muted-foreground hover:text-foreground" id="csvRemoveFile">
                                            <i data-lucide="x" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Preview Area -->
                                <div class="hidden" id="csvPreview">
                                    <h4 class="text-sm font-medium mb-2">Preview dos dados:</h4>
                                    <div class="border rounded-lg max-h-48 overflow-auto">
                                        <table class="w-full text-sm">
                                            <thead class="bg-muted">
                                                <tr id="csvPreviewHeader"></tr>
                                            </thead>
                                            <tbody id="csvPreviewBody"></tbody>
                                        </table>
                                    </div>
                                    <p class="text-xs text-muted-foreground mt-2" id="csvPreviewInfo"></p>
                                </div>
                            </div>
                            
                            <div class="flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2">
                                <button type="button" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mt-2 sm:mt-0" id="csvCancelBtn">
                                    Cancelar
                                </button>
                                <button type="button" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 disabled" id="csvImportConfirmBtn" disabled>
                                    <i data-lucide="upload" class="w-4 h-4 mr-2"></i>
                                    Importar Jogadores
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filters -->
                    <div class="mb-6 space-y-4">
                        <div class="flex flex-col sm:flex-row gap-4">
                            <!-- Search Box -->
                            <div class="relative flex-1">
                                <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"></i>
                                <input type="text" id="searchPlayer" placeholder="Buscar jogador..." class="flex h-10 w-full rounded-md border border-input bg-background pl-10 pr-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>
                            
                            <!-- Sort Options -->
                            <select id="sortPlayers" class="flex h-10 w-full sm:w-48 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                                <option value="name">Ordenar por Nome</option>
                                <option value="points">Ordenar por Pontos</option>
                                <option value="wins">Ordenar por Vitórias</option>
                                <option value="matches">Ordenar por Partidas</option>
                            </select>
                            
                            <!-- View Toggle -->
                            <div class="flex rounded-md border border-input bg-background p-1">
                                <button id="gridView" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-background text-foreground shadow-sm" title="Visualização em Grade">
                                    <i data-lucide="grid-3x3" class="w-4 h-4"></i>
                                </button>
                                <button id="listView" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 text-muted-foreground" title="Visualização em Lista">
                                    <i data-lucide="list" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Players Statistics -->
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="users" class="w-4 h-4 text-muted-foreground"></i>
                                    <span class="text-sm font-medium text-muted-foreground">Total</span>
                                </div>
                                <div class="text-2xl font-bold" id="totalPlayers">0</div>
                            </div>
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="zap" class="w-4 h-4 text-muted-foreground"></i>
                                    <span class="text-sm font-medium text-muted-foreground">Ativos</span>
                                </div>
                                <div class="text-2xl font-bold" id="activePlayers">0</div>
                            </div>
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="trophy" class="w-4 h-4 text-muted-foreground"></i>
                                    <span class="text-sm font-medium text-muted-foreground">Líder</span>
                                </div>
                                <div class="text-sm font-bold truncate" id="topPlayer">-</div>
                            </div>
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="target" class="w-4 h-4 text-muted-foreground"></i>
                                    <span class="text-sm font-medium text-muted-foreground">Média</span>
                                </div>
                                <div class="text-2xl font-bold" id="averagePoints">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Players Container -->
                    <div id="playersContainer" class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                        <!-- Jogadores serão inseridos aqui dinamicamente -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Ranking -->
        <section id="ranking" class="tab-content">
            <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
                <div class="flex flex-col space-y-1.5 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-2xl font-semibold leading-none tracking-tight">Ranking de Jogadores</h2>
                            <p class="text-sm text-muted-foreground mt-1">Classificação baseada no desempenho nas partidas</p>
                        </div>
                        <div class="flex gap-2">
                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80">
                                <i data-lucide="trophy" class="w-3 h-3 mr-1"></i>
                                Vitória: 3 pts
                            </div>
                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80">
                                <i data-lucide="equal" class="w-3 h-3 mr-1"></i>
                                Empate: 1 pt
                            </div>
                            <div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-muted text-muted-foreground">
                                <i data-lucide="x" class="w-3 h-3 mr-1"></i>
                                Derrota: 0 pts
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-6 pt-0">
                    <div id="rankingContainer">
                        <!-- Ranking será inserido aqui dinamicamente -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Relatórios -->
        <section id="relatorios" class="tab-content">
            <div class="space-y-6">
                <!-- Estatísticas Gerais -->
                <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
                    <div class="flex flex-col space-y-1.5 p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <h2 class="text-2xl font-semibold leading-none tracking-tight">Relatórios e Estatísticas</h2>
                                <p class="text-sm text-muted-foreground mt-1">Análise completa do torneio e desempenho dos jogadores</p>
                            </div>
                            <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2" id="exportReportBtn">
                                <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                                Exportar Relatório
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-6 pt-0">
                        <!-- Cards de Estatísticas -->
                        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6">
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="users" class="w-5 h-5 text-blue-600"></i>
                                    <h3 class="font-semibold">Total de Jogadores</h3>
                                </div>
                                <p class="text-2xl font-bold mt-2" id="reportTotalPlayers">0</p>
                            </div>
                            
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="gamepad-2" class="w-5 h-5 text-green-600"></i>
                                    <h3 class="font-semibold">Total de Partidas</h3>
                                </div>
                                <p class="text-2xl font-bold mt-2" id="reportTotalMatches">0</p>
                            </div>
                            
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="crown" class="w-5 h-5 text-yellow-600"></i>
                                    <h3 class="font-semibold">Líder Atual</h3>
                                </div>
                                <p class="text-lg font-bold mt-2" id="reportCurrentLeader">-</p>
                            </div>
                            
                            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                                <div class="flex items-center space-x-2">
                                    <i data-lucide="percent" class="w-5 h-5 text-purple-600"></i>
                                    <h3 class="font-semibold">Taxa Média de Vitória</h3>
                                </div>
                                <p class="text-2xl font-bold mt-2" id="reportAvgWinRate">0%</p>
                            </div>
                        </div>
                        
                        <!-- Tabela de Relatório Detalhado -->
                        <div class="rounded-lg border">
                            <div class="p-4 border-b">
                                <h3 class="text-lg font-semibold">Relatório Detalhado dos Jogadores</h3>
                                <p class="text-sm text-muted-foreground">Estatísticas completas de desempenho</p>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead class="bg-muted">
                                        <tr>
                                            <th class="px-4 py-3 text-left text-sm font-medium">Posição</th>
                                            <th class="px-4 py-3 text-left text-sm font-medium">Jogador</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Pontos</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Partidas</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Vitórias</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Empates</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Derrotas</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Taxa de Vitória</th>
                                            <th class="px-4 py-3 text-center text-sm font-medium">Última Partida</th>
                                        </tr>
                                    </thead>
                                    <tbody id="reportTableBody">
                                        <!-- Dados serão inseridos aqui dinamicamente -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Registrar Partida -->
        <section id="partidas" class="tab-content">
            <div class="grid gap-6 lg:grid-cols-2">
                <!-- Formulário de Nova Partida -->
                <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
                    <div class="flex flex-col space-y-1.5 p-6">
                        <h2 class="text-2xl font-semibold leading-none tracking-tight">Registrar Nova Partida</h2>
                        <p class="text-sm text-muted-foreground">Registre o resultado de uma partida entre dois jogadores</p>
                    </div>
                    <div class="p-6 pt-0">
                        <form id="matchForm" class="space-y-6">
                            <!-- Seleção de Jogadores -->
                            <div class="grid gap-4 md:grid-cols-3 items-end">
                                <div class="space-y-2">
                                    <label for="player1" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Jogador 1</label>
                                    <select id="player1" required class="flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                                        <option value="">Selecione um jogador</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-center">
                                    <div class="inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground">
                                        <i data-lucide="swords" class="w-3 h-3 mr-1"></i>
                                        VS
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label for="player2" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Jogador 2</label>
                                    <select id="player2" required class="flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                                        <option value="">Selecione um jogador</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Resultado da Partida -->
                            <div class="space-y-3">
                                <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Resultado da Partida</label>
                                <div class="grid gap-2 md:grid-cols-3">
                                    <label class="flex items-center space-x-2 rounded-md border border-input p-3 cursor-pointer hover:bg-accent hover:text-accent-foreground has-[:checked]:bg-primary has-[:checked]:text-primary-foreground">
                                        <input type="radio" name="result" value="player1" required class="sr-only">
                                        <i data-lucide="crown" class="w-4 h-4"></i>
                                        <span class="text-sm font-medium">Vitória Jogador 1</span>
                                    </label>
                                    <label class="flex items-center space-x-2 rounded-md border border-input p-3 cursor-pointer hover:bg-accent hover:text-accent-foreground has-[:checked]:bg-primary has-[:checked]:text-primary-foreground">
                                        <input type="radio" name="result" value="draw" required class="sr-only">
                                        <i data-lucide="equal" class="w-4 h-4"></i>
                                        <span class="text-sm font-medium">Empate</span>
                                    </label>
                                    <label class="flex items-center space-x-2 rounded-md border border-input p-3 cursor-pointer hover:bg-accent hover:text-accent-foreground has-[:checked]:bg-primary has-[:checked]:text-primary-foreground">
                                        <input type="radio" name="result" value="player2" required class="sr-only">
                                        <i data-lucide="crown" class="w-4 h-4"></i>
                                        <span class="text-sm font-medium">Vitória Jogador 2</span>
                                    </label>
                                </div>
                            </div>

                            <div class="space-y-2">
                                <label for="matchDate" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Data da Partida</label>
                                <input type="date" id="matchDate" required class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                            </div>

                            <div class="space-y-2">
                                <label for="matchNotes" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Observações (opcional)</label>
                                <textarea id="matchNotes" rows="3" placeholder="Adicione observações sobre a partida..." class="flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"></textarea>
                            </div>

                            <button type="submit" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8 w-full">
                                <i data-lucide="chess-knight" class="w-4 h-4 mr-2"></i>
                                Registrar Partida
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Partidas Recentes -->
                <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
                    <div class="flex flex-col space-y-1.5 p-6">
                        <h3 class="text-lg font-semibold leading-none tracking-tight">Partidas Recentes</h3>
                        <p class="text-sm text-muted-foreground">Histórico das últimas partidas registradas</p>
                    </div>
                    <div class="p-6 pt-0">
                        <div id="recentMatchesContainer" class="space-y-3">
                            <!-- Partidas recentes serão inseridas aqui -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal de Confirmação -->
    <div id="confirmModal" class="fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 hidden">
        <div class="fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg">
            <div class="flex flex-col space-y-1.5 text-center sm:text-left">
                <h3 class="text-lg font-semibold leading-none tracking-tight">Confirmar Ação</h3>
                <p id="confirmMessage" class="text-sm text-muted-foreground"></p>
            </div>
            <div class="flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2">
                <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mt-2 sm:mt-0" id="confirmNo">
                    <i data-lucide="x" class="w-4 h-4 mr-2"></i>
                    Cancelar
                </button>
                <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2" id="confirmYes">
                    <i data-lucide="check" class="w-4 h-4 mr-2"></i>
                    Confirmar
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Configure Tailwind for dark mode
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        primary: {
                            DEFAULT: 'hsl(var(--primary))',
                            foreground: 'hsl(var(--primary-foreground))'
                        },
                        secondary: {
                            DEFAULT: 'hsl(var(--secondary))',
                            foreground: 'hsl(var(--secondary-foreground))'
                        },
                        destructive: {
                            DEFAULT: 'hsl(var(--destructive))',
                            foreground: 'hsl(var(--destructive-foreground))'
                        },
                        muted: {
                            DEFAULT: 'hsl(var(--muted))',
                            foreground: 'hsl(var(--muted-foreground))'
                        },
                        accent: {
                            DEFAULT: 'hsl(var(--accent))',
                            foreground: 'hsl(var(--accent-foreground))'
                        },
                        popover: {
                            DEFAULT: 'hsl(var(--popover))',
                            foreground: 'hsl(var(--popover-foreground))'
                        },
                        card: {
                            DEFAULT: 'hsl(var(--card))',
                            foreground: 'hsl(var(--card-foreground))'
                        }
                    },
                    borderRadius: {
                        lg: 'var(--radius)',
                        md: 'calc(var(--radius) - 2px)',
                        sm: 'calc(var(--radius) - 4px)'
                    }
                }
            }
        };
    </script>
</body>
</html>